!function(n,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():n.QueryString=e()}(this,function(){function n(){var n,t,o;for(t=arguments[0],n=1;n<arguments.length;n+=1){o=arguments[n];for(j in o)e(o,j)&&(t[j]=o[j])}return t}function e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function t(e){return this instanceof t?void(this.options=n({},t.defaultOptions,e||{})):new t(e)}return t.defaultOptions={ignoreFirst:"?",flatten:"singles",semicolons:!0},t.prototype={parse:function(n){var t,o,i,r,s,u,l,f,c;if(null===n||void 0===n)return null;if(n+="",t={},!n.length)return t;for(~this.options.ignoreFirst.indexOf(n.charAt(0))&&(n=n.slice(1)),n=n.replace(/\+/g,"%20"),o=n.split(this.options.semicolons?/[&;]/g:/&/g),c=0;c<o.length;c+=1)i=o[c],r=i.indexOf("="),0>r?(s=i,u=null):(s=i.slice(0,r),u=i.slice(r+1)),l=decodeURIComponent(s),f=null===u?null:decodeURIComponent(u),e(t,l)?t[l].push(f):t[l]=[f];switch(this.options.flatten){case"first":for(l in t)e(t,l)&&(t[l]=t[l].shift());break;case"last":case!0:for(l in t)e(t,l)&&(t[l]=t[l].pop());break;case"singles":for(l in t)e(t,l)&&1===t[l].length&&(t[l]=t[l].pop())}return t},stringify:function(n){var e;return null===n||void 0===n?null:(e=[],Object.keys(n).forEach(function(t){function o(n){var e;return null===n||void 0===n?[i]:(e=encodeURIComponent(n),[i,e])}var i,r;i=encodeURIComponent(t),r=n[t],Array.isArray(r)?e.push.apply(e,r.map(o)):e.push(o(r))}),e.map(function(n){return n.join("=")}).join("&"))}},t});